\documentclass[handout, 12pt]{beamer}
%\documentclass[11pt]{beamer}

\input{preamble.tex}
\title[]{Latent Variable Methods for Batch Processes}
\subtitle[]{Learning from data}
\author[]{Instructor: Kevin Dunn \\{\tt kevin.dunn@connectmv.com}\\ http://connectmv.com}
\institute[]{}
\date[]{Course notes \copyright~ ConnectMV, Inc. \\ \vspace{1cm}{\footnotesize Presented at GSK, Mississauga, February 2011}}

\begin{document}
\begin{frame}
\titlepage
\end{frame}

\begin{frame}\frametitle{TODO}

	% \section{The final words}
	% 
	% \begin{frame}\frametitle{Final words}
	% 	\vspace{3pt}
	% 
	% 	{\color{myOrange}\bf The three main sources of errors are due to:}
	% 	\begin{enumerate}
	% 		\item {\bf The modeller:} model formulation errors
	% 		\item {\bf The algorithm:} truncation/discretization errors
	% 		\item {\bf The computer:} round-off errors
	% 	\end{enumerate}
	% 
	% 	\begin{columns}
	% 		\column{.80\textwidth}
	% 		\begin{exampleblock}{}
	% 			\centering{In engineering applications, use \alert{double-precision or better} to mitigate the effect of round-off error}
	% 		\end{exampleblock}
	% 	\end{columns}
	% 
	% 	\vspace{5pt}
	% 	\visible<2->{
	% 		\begin{columns}
	% 			\column{.34\textwidth}
	% 
	% 			\column{.65\textwidth}
	% 			\alert{\bf Reading:}\\
	% 			\vspace{3pt}
	% 			\begin{itemize}
	% 				\item Chapter 3 in S. C. Chapra, and R. P. Canale, {\em ``Numerical Methods for Engineers''}, McGraw Hill, 5th/6th Edition
	% 				\item Wikipedia article on \textbf{\texttt{Floating point}} is well-written
	% 				\item \href{http://docs.sun.com/source/806-3568/ncg_goldberg.html}{What every computer scientist should know about floating-point arithmetic}
	% 			\end{itemize}
	% 		\end{columns}
	% 	}
	% \end{frame}


\begin{itemize}
	\item	Adjust interline spacing  \hfill {\color{myOrange} $\leftarrow$ typical in practice!}
\end{itemize}
\end{frame}

\begin{frame}\frametitle{Interpreting score plots: \(t_1, t_2, \ldots \)}

\begin{itemize}
	\item	Shown as scatter plot or time-series plot

	\item	Each point in plot is an observation

	\item	\(t_1\) explains more than \(t_2\); i.e. pay more attention to lower scores

		\begin{itemize}
			\item	observations that are similar appear close together in all scores
			\item	\emph{colour code} score plots by another variables: makes plot more informative
		\end{itemize}

	\item	look for \textbf{clusters} and \textbf{patterns} to learn from data
\end{itemize}
\end{frame}

\begin{frame}\frametitle{Interpreting loading plots: \( p_1, p_2, \ldots \)}

\begin{itemize}
	\item	Shown as bar plots or scatter plots

	\item 	One point per variable in the model
	
		\begin{itemize}
			\item value of: \(\pm 0.8 vs \pm 0.6\) are both important
			\item value of: \(\pm 0.3 vs \pm 0.1\) are both quite small			
		\end{itemize}

	\item 	Each point in plot is an observation

	\item 	\(t_1\) explains more than \(t_2\); i.e. pay more attention to lower scores

		\begin{itemize}
			\item	observations that are similar appear close together in all scores
			\item 	\emph{colour code} score plots by another variables ] makes plot more informative
		\end{itemize}

	\item 	look for \textbf{clusters} and \textbf{patterns} to learn from data
\end{itemize}
\end{frame}

%-------------------------------------------------
\begin{frame}\frametitle{Outline}
\tableofcontents
\end{frame}
%-------------------------------------------------

%-------------------------------------------------
\section{What do we learn from our data?}
%-------------------------------------------------

\begin{frame}\frametitle{What do we learn from our data?}

\begin{enumerate}
	\item {\bf \color{myGreen}Improve/confirm} process understanding
	
		 How do we learn from our data?
\begin{itemize}

	\item	see which variables behave similarly (clustering) \pause
	\item	confirm which phenomena have greatest effect in the data 
	\begin{itemize}
		\item	high variability appears in first LVs
		\item	lower variability phenomena later
	\end{itemize}\pause

	\item	which variables have most strong influence on variability in that component
	\begin{itemize}
		\item variables with high loadings
	\end{itemize}\pause

	\item	interpret latent variables
	\begin{itemize}
		\item	sometimes we can
		\item	helps us when we think in latent variable space
	\end{itemize}
\end{itemize}
\end{enumerate}
\end{frame}

\begin{frame}\frametitle{What do we learn from our data?}

\begin{enumerate}
	\setcounter{enumi}{1}
	\item {\bf \color{myGreen}Troubleshooting}
	\begin{itemize}
		\item 	confirm a known problem occurred (SPE, \( T^2 \), \( t_a \))
		\item 	use contribution plots to diagnose
		\begin{itemize}
			\item 	what went wrong?
			\item 	when did it go wrong (batch)? 
		\end{itemize}\pause
		
		\item 	use interpretation of \( t_1, t_2 \) to explain high/low score values\pause
		\item 	use engineering judgement to fix problems from insight gained
	\end{itemize}
\end{enumerate}
\end{frame}
	
\begin{frame}\frametitle{What do we learn from our data?}

\begin{enumerate}
	\setcounter{enumi}{2}
	\item {\bf \color{myGreen}Improve/optimize} a process
	\begin{itemize}
		\item 	how can we move in the latent variable space?
		\item 	what are the causal variables to adjust to move in \( t_1, t_2, \ldots \)
		\item 	how do we do latent variable DOE's to fill in gaps
	\end{itemize}	
	These all rely on the concept of \alert{``model inversion''}
\end{enumerate}
\end{frame}

\begin{frame}\frametitle{What do we learn from our data?}

\begin{enumerate}
	\setcounter{enumi}{3}
	\item {\bf \color{myGreen}Predictive modelling} 
	\begin{itemize}
		\item 	rely on PLS models
		\item 	e.g. inferential sensors provide real-time prediction of \( \mathbf{Y} \), our final quality attributes
		\begin{itemize}
			\item 	PLS handles colinearity, missing values, noisy \( \mathbf{X} \)-variables
			\item 	these 3 issues cannot be dealt with in ordinary least squares
		\end{itemize}
	\end{itemize}	
\end{enumerate}
\end{frame}

\begin{frame}\frametitle{What do we learn from our data?}

\begin{enumerate}
	\setcounter{enumi}{4}
	\item {\bf \color{myGreen}Process monitoring} 
	\begin{itemize}
		\item 	build a model from ``in control'' operation: make sure we remain there
		\item 	don't need to take extra action if we remain in that space
		\item 	do adjust process if trending out of space; we have
		\begin{itemize}
			\item 	SPE, \( T^2 \) and \( t_a \) score limits to monitor against
		\end{itemize}
		
		\item 	use contribution plots to diagnose problems
	\end{itemize}	
\end{enumerate}
\end{frame}

\begin{frame}\frametitle{What do we learn from our data?}

\begin{enumerate}
	\setcounter{enumi}{4}
	\item 	{\bf \color{myGreen}Process monitoring} (cont'd)	

	\vspace{10pt}	
			Advantages over \emph{univariate} monitoring:
		
			\begin{itemize}
				\item 	we monitor \textbf{many} raw variables with summarized scores, SPE, and \( T^2 \)
				\item 	i.e. we actually have \emph{fewer} control charts with multivariate monitoring
				\item 	multivariate charts interpreted in the same way as univariate charts
				\item 	i.e. no extra operator training required
				\item 	ordinary Shewhart charts do not give any help with diagnosis
			\end{itemize}	
\end{enumerate}
\end{frame}

\begin{frame}\frametitle{Tools to learn from our data}

\begin{enumerate}
	\item 	\alert{Generic}: applicable to all types of processes
	\item 	\alert{Informative}: easy to use by untrained staff for decision making
		\begin{itemize}
			\item clear and quick action possible
		\end{itemize}
	\item 	\alert{Simple to implement}: straightforward calculations and fast
\end{enumerate}

\vspace{1cm}

\begin{exampleblock}{}<2->
\centering{\large{\color{myOrange} Latent variable methods meet these criteria}}
\end{exampleblock}
\end{frame}

%-------------------------------------------------
\section{Batch systems}
%-------------------------------------------------
% Related concepts: phases, Z, trajectories, alignment, recipes, operators, manual steps, unfolding, charge reactor

\begin{frame}\frametitle{Batch systems}


\begin{exampleblock}{Simplest definition}
\centering{\large{\textbf{A batch system}: group of the \alert{\emph{same variables}}, gathered over a period of \alert{\emph{time}}}}
\end{exampleblock}
	
Why not just use ordinary PCA or PLS?

TODO(KGD): IMAGE of ordinary X-block here

\vspace{1cm}

\end{frame}





\end{document}

